<link rel="stylesheet" href="/css/profilePage.css">
<script src="/js/gallery.js"></script>
<script src='/js/follow.js'></script>

{{> nav}}
<input type="hidden" id="mode" value={{mode}}>
<!--Profile picture & biography-->
<div id = "profileHead" class = "container-fluid padding">
  <div id = "profileHeader" class = "row welcome text-center fixed-wrap">
    <div class = "col-12">

    {{#if isLogUser}}  
      <a href = "/profile/settings"> <img src= "/img/settings.png" style = "position: absolute; 
        top: 25px;
        right: 25px;
        height: auto;
        width: 50px;"></a>

        {{else}}
        {{#if isFollowed}}
          <button id = "follow" class = "btn btn-outline-dark fluid following" style = "position: absolute; 
            top: 25px;
            right: 25px;">Following</button>
              {{else}}
              <button id = "follow" class = "btn btn-outline-dark fluid" style = "position: absolute; 
              top: 25px;
              right: 25px;">Follow</button>
        {{/if}}
    {{/if}}

      <img src = {{user.profilePic}} class = "img-fluid rounded-circle profilePic" alt = "Can't find profile pic">
     
    </div>
    <div class = "col-12">
      <h1 style = "color:black;" class = 'display-4'>{{user.firstName}} {{user.lastName}}</h1>
      <h4 class = "secondary" style = "color: #9F9D9D;">@<span id = 'username'>{{user.username}}</span></h4>
      <p class = "lead" style = "color:black;">{{user.bio}}</p>
    </div>        
  </div>
  <hr class = "light">
</div>
  <!--Contact info-->  
  <div class = "text-center">
  <button class = "btn btn-dark" data-toggle = "collapse" data-target= "#info" style = "width: 100%; margin: 0;"><i style="color: white;">Contact Info</i></button>
  </div>

<div id = "info" class = "collapse">
  <div class = "container-fluid padding">
  <div class = "row text-center">
    <div class = "col-6">
     <p class="text-info">Email: {{user.email}}</p>
      <p class="text-info">Mobile Number: {{user.mobile}}</p>
    </div>        
    <div class = "col-6">
      <p class="text-info">Telephone Number: {{user.telephone}}</p>
      <p class="text-info">Address: {{user.address}}</p>
    </div>   
  </div>
  </div>
</div>

<hr class = "light" style = "margin: 0;">

<!--following/followers-->
<div class = "container-fluid padding">
  <div class = "row">
    <div class = "col-6 text-right">
      <a href = '/api/followers/{{user._id}}' class = "secondary" style = "color: #9F9D9D;"><span id = 'followers'>{{#count user.followers}}{{/count}}</span> followers</a>
    </div>        
    <div class = "col-6 text-left">
      <a href = '/api/followings/{{user._id}}' class = "secondary" style = "color: #9F9D9D;"><span id = 'followings'>{{#count user.followings}}{{/count}}</span> following</a>
    </div>   
  </div>
</div>
<!-- fancybox gallery for profile -->
<div class = "gallery"></div>